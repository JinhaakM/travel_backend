
$(document).ready(function() {
    var pageSize = 10; 
    var currentPage = 1;
    var $userItems = $('.user-item');
    var totalPages = Math.ceil($userItems.length / pageSize);
    
	showPage(currentPage);
	
    function showPage(page) {
        var startIndex = (page - 1) * pageSize;
        var endIndex = page * pageSize;

        $userItems.hide();
        $userItems.slice(startIndex, endIndex).show();

        $('#page-info').text('유저 목록 ' + page + ' of ' + totalPages);
    }
    
    $('#prev').click(function() {
        if (currentPage > 1) {
            currentPage--;
            showPage(currentPage);
        }
    });
    
    $('#next').click(function() {
        if (currentPage < totalPages) {
            currentPage++;
            showPage(currentPage);
        }
    });
  
  
  	$userItems.click(function() {
        var userId = $(this).data('user-id');
        $.ajax({
            url: '/admin/userDetails',  // 서버의 엔드포인트 URL
            type: 'GET',
            data: { id: userId },
            success: function(data) {
                // 서버로부터 받은 데이터를 페이지에 표시합니다.
                $('#user-details').html('<h3>User Details</h3><p>' + data + '</p>');
            },
            error: function(jqXHR, textStatus, errorThrown) {
                console.error('Error fetching user details:', textStatus, errorThrown);
            }
        });
    });
});